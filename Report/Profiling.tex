
\section{Optional: Profiling}\label{sec:Profiling}

The GHC compiler comes with a profiling system to keep track of which
functions are executed how often and how much time and memory they take.
To activate this RTS, we compile and execute our program as follows:

\begin{verbatim}
stack clean
stack build --profile
stack exec --profile myprogram -- +RTS -p
\end{verbatim}

Results are saved in the file \texttt{myprogram.prof} which looks as follows.
Note for example, that funnyfunction was called on 14 entries.

\begin{small}
\begin{verbatim}
                                                 individual      inherited
COST CENTRE       MODULE          no. entries  %time %alloc   %time %alloc

MAIN              MAIN            227       0    0.0    0.8     0.0  100.0
 main             Main            455       0    0.0   29.6     0.0   38.6
  funnyfunction   Basics          518      14    0.0    0.6     0.0    0.6
  randomnumbers   Basics          464       0    0.0    0.3     0.0    8.4
   randomRIO      System.Random   468       0    0.0    0.0     0.0    8.0
   ...
\end{verbatim}
\end{small}

For many more RTS options, see the GHC documentation online at
\url{https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/profiling.html}.
